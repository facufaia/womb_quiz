import{j as e}from"./supabase.BFS2Gfd8.js";import{a as r}from"./index.CeHYjMkx.js";const A=[{id:"6796d5d2e7879725de824a04",name:"HEALTHY"},{id:"6796d5b50cfe8dd0f5eb6f9b",name:"STUCK"},{id:"6796d5a4df3ac89fee790782",name:"DAMP"},{id:"6796d57b47030d51f06d822b",name:"HOT"},{id:"6796d5721a891d3bca1803cd",name:"COLD"}],H=u=>A.find(d=>d.name===u),x=[{category:"COLD",question:"I prefer warm weather, I hate the cold!"},{category:"COLD",question:"My lower back feels cold."},{category:"COLD",question:"I prefer hot drinks."},{category:"COLD",question:"I am prone to low back or knee pain."},{category:"COLD",question:"I am prone to low energy and fatigue."},{category:"COLD",question:"My menstrual blood has small clots."},{category:"COLD",question:"I experience low sex drive."},{category:"COLD",question:"I feel overworked and exhausted."},{category:"COLD",question:"I feel depressed with no motivation."},{category:"COLD",question:"My cycles tend to be longer than 28 days."},{category:"HOT",question:"I like cold weather, I hate the heat!"},{category:"HOT",question:"I've been told to be hot tempered."},{category:"HOT",question:"My cycles tend to be shorter than 28 days."},{category:"HOT",question:"I tend to spot before my period."},{category:"HOT",question:"I have difficulty sleeping."},{category:"HOT",question:"I sometimes suffer from heart palpitations."},{category:"HOT",question:"I feel stressed, overwhelmed and/or anxious."},{category:"HOT",question:"I suffer from nightsweats."},{category:"HOT",question:"I have strong menstrual cramps."},{category:"HOT",question:"I am a go go go personality type."},{category:"DAMP",question:"I like to eat rich sweet foods."},{category:"DAMP",question:"I have a history of PCOS."},{category:"DAMP",question:"My legs feel very heavy during my period."},{category:"DAMP",question:"I tend to retain liquids."},{category:"DAMP",question:"My menstrual flow has mucus."},{category:"DAMP",question:"I have phlegm in my throat & sinuses."},{category:"DAMP",question:"I have a greasy coating on my tongue."},{category:"DAMP",question:"It is hard for me to make decisions."},{category:"DAMP",question:"I tend to worry a lot and overthink things."},{category:"DAMP",question:"I don't have much muscle tone, I feel weak."},{category:"STUCK",question:"I have spotting after my period."},{category:"STUCK",question:"I suffer from midcycle ovulation pain."},{category:"STUCK",question:"I sometimes have mid ovulation spotting."},{category:"STUCK",question:"I have heavy bleeding."},{category:"STUCK",question:"I have rib pain and sigh a lot."},{category:"STUCK",question:"I grind my teeth at night."},{category:"STUCK",question:"I have poor circulation."},{category:"STUCK",question:"I feel stressed out."},{category:"STUCK",question:"I have been diagnosed with endometriosis and/or fibroids."},{category:"STUCK",question:"My menstrual cycles start then stop then start again."}],L={HOT:"text-clay-600",DUMP:"text-blush-600",COLD:"text-sky-600",STUCK:"text-cloud-100",HEALTHY:"text-sage-600"};function K(){const[u,d]=r.useState(!0),[m,q]=r.useState(""),[g,C]=r.useState(""),[s,h]=r.useState(void 0),[c,p]=r.useState({DAMP:0,STUCK:0,HOT:0,COLD:0}),[S,b]=r.useState(!1),[j,N]=r.useState(!1),[y,w]=r.useState({}),f=o=>{const t=x[s],a={...y,[s]:{category:t.category,question:t.question,answer:o}};w(a);const n={...c};console.log("New Scores",n),console.log("Current Question",t),o==1&&n[t.category]++,o==2&&(n[t.category]++,n[t.category]++),p(n),Math.max(...Object.values(n))>=18||s===x.length-1?b(!0):h(s+1)},I=async o=>{o.preventDefault(),console.log("Submitting email..."),console.log("E",o),console.log("Email",m),console.log("Name",g),O(g,m,c,y)},O=async(o,t,a,n)=>{try{const i=v(),M=H(i),l=new FormData;if(l.append("email",t),l.append("name",o),l.append("scores",JSON.stringify(a)),l.append("answers",JSON.stringify(n)),l.append("category",i),l.append("segment_id",M.id),!(await fetch("/quiz",{method:"POST",body:l})).ok)throw new Error("Failed to submit quiz");b(!1),N(!0)}catch(i){console.error("Error:",i),alert("There was an error submitting your results.")}},v=()=>Object.values(c).every(t=>t===0)?"HEALTHY":Object.entries(c).reduce((t,a)=>a[1]>t[1]?a:t)[0],T=()=>{d(!1),h(0)},D=()=>{if(s>0){const o={...y},t=o[s-1];if(t.answer){const a={...c};a[t.category]--,p(a)}delete o[s],w(o),h(s-1)}};if(u)return e.jsx("div",{className:"max-w-xs md:max-w-3xl mx-auto mt-10",children:e.jsxs("div",{className:"flex flex-col object-cover md:flex-row items-center gap-x-14",children:[e.jsx("div",{className:"mb-6 object-cover h-[40svh] md:h-full overflow-hidden md:w-1/2",children:e.jsx("img",{src:"/mobile.jpg",alt:"Womb illustration",className:"w-full rounded-lg shadow-lg"})}),e.jsxs("div",{className:"md:w-1/2 space-y-12",children:[e.jsx("h1",{className:"text-4xl text-golden-600 font-custom font-bold",children:"UNLOCK the SECRETS of your WOMB"}),e.jsx("p",{className:"text-xl font-custom font-bold",children:"Take the holistic quiz & discover your unique womb type to receive bespoke self care practices."}),e.jsx("button",{onClick:T,className:"w-full bg-clay-600 py-3 px-6 rounded-lg text-lg hover:bg-clay-500 transition-colors duration-300 font-custom font-bold",children:"Start Quiz"})]})]})});if(S)return e.jsxs("form",{onSubmit:I,className:"max-w-xs md:max-w-md mx-auto mt-10 p-6 bg-power-700 rounded-lg shadow-md shadow-rich_black-100/60",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"name",className:"block mb-2 font-custom",children:"Enter your name"}),e.jsx("input",{type:"text",id:"text",required:!0,className:"w-full px-3 py-2 border rounded bg-transparent focus:outline-none focus",value:g,onChange:o=>C(o.target.value)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"block mb-2 font-custom",children:"Enter your email to see the result"}),e.jsx("input",{type:"email",id:"email",required:!0,className:"w-full px-3 py-2 border bg-transparent rounded focus:outline-none focus",value:m,onChange:o=>q(o.target.value)})]}),e.jsx("button",{type:"submit",className:"w-full bg-clay-600 py-2 px-4 rounded hover:bg-clay-500 transition-colors duration-300 ease-out font-custom font-bold",children:"Submit"})]});if(j){const o=v(),t=L[o]||"text-cloud-100";return e.jsx("div",{className:"max-w-xs md:max-w-3xl mx-auto mt-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-x-14",children:[e.jsx("div",{className:"mb-6 md:w-1/2",children:e.jsx("img",{src:`/${o}.jpg`,alt:"Womb illustration",className:"w-full rounded-lg shadow-lg"})}),e.jsxs("div",{className:"md:w-1/2 space-y-4",children:[e.jsx("h2",{className:"text-2xl mb-1 font-custom",children:"Sister, here is your result!"}),e.jsxs("h1",{className:`text-xl mb-6 font-custom font-bold ${t}`,children:[o," Womb"]}),e.jsx("p",{className:"mb-4 font-custom",children:"Get your Womb Mini Masterclass & Self Care Practices for your womb"}),e.jsx("a",{href:`/${o.toLowerCase()}_freebie.pdf`,className:"inline-block bg-clay-600 px-4 py-2 rounded hover:bg-power-500 transition-colors duration-300 ease-out",download:!0,children:"Download"})]})]})})}const k=x[s];return e.jsxs("div",{className:"max-w-xs md:max-w-md mx-auto mt-10 p-6 rounded-lg shadow-md shadow-rich_black-100/60",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute right-0 font-custom font-bold",children:s+1}),e.jsx("h2",{className:"text-xl w-11/12 mb-4 min-h-36 text-cloud-100 font-custom font-bold",children:k.question})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:()=>f(2),className:"w-full py-2 px-4 bg-clay-600 rounded hover:bg-clay-500 transition-colors duration-300 ease-out font-custom font-bold",children:"Yes"}),e.jsx("button",{onClick:()=>f(0),className:"w-full py-2 px-4 rounded hover:bg-power-600 bg-power-500 transition-colors duration-300 ease-out font-custom font-bold",children:"No"}),e.jsx("button",{onClick:()=>f(1),className:"w-full py-2 px-4 rounded hover:bg-power-600 bg-power-500 transition-colors duration-300 ease-out font-custom font-bold",children:"Does not apply"}),s>0&&e.jsx("button",{onClick:D,className:"w-full py-2 px-4 bg-power-500 rounded hover:bg-power-600 transition-colors duration-300 ease-out  font-custom font-bold",children:"Back"})]})]})}export{K as default};
